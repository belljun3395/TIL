# 2022-05-13

### Today I Learned

- SQL
  - 모델링




### 모델링

---



#### 모델링의 특징

---

- 추상화
  : 다향한 현상을 일정한 양식인 표기법에 의해 표현하는 것이다.
-  단순화 
  : 복잡한 현실 세계를 약속된 규약에 의해 제한된 표기법이나 언어로 표현하여 쉽게 이해할 수 있도록 하는 것을 의미한다.
- 명확화 
  : 누구나 이해하기 쉽게 하기 위해 대상에 대한 애매모호함을 제거하고 정확하게 현상을 기술하는 것을 의미한다.



따라서 모델링을 다시 정의하면 '현실세계를 추상화, 단순화, 명확화하기 위해 일정한 표기법에 의해 표현하는 기법'으로 정리할 수 있다.

정보시스템 구축에서는 모델링을 계획/분석/설계 할 때 업무를 분석하고 설계하는데 이용하고 이후 구추/운영 단계에서는 변경과 관리의 목적으로 이용하게 된다.



#### 모델링의 3가지 관점

---

- 데이터 관점
  : 업무가 어떤 데이터와 관련이 있는지 또는 데이터간의 관계는 무엇인지에 대해서 모델링하는 방법이다.
- 프로세스 관점 
  : 업무가 실제하고 있는 일은 무엇인지 또는 무엇을 해야 하는지를 모델링하는 방법이다.
- 데이터와 프로세스의 상관 관점
  : 업무가 처리하는 일의 방법에 따라 데이터는 어떻게 영향을 받고 있는지 모델링하는 방법



#### 모델링의 정의

---

데이터 모델은 데이터베이스의 골격을 이해하고 그 이해를 바탕으로 SQL 문장을 기능과 성능적인 측면에서 효율적으로 작성하기 위해 꼭 알아야 하는 핵심요소이다.

일반적으로 데이터 모델링은 다음과 같이 정의될 수 있다.

- 정보시스템을 구축하기 위해, 해당 업무에 어떤 데이터가 존재하는지 또는 업무가 필요로 하는 정보는 무엇인지를 분석하는 방법
- 기업 업무에 대한 종합적인 이해를 바탕으로 데이터에 존재하는 업무 규칙에 대하여 참 또는 거짓을 판별할 수 있는 사실을 데이터에 접근하는 방법, 사람, 전산화와는 별개의 관점에서 이를 명확하게 표현하는 추상화 기법



이를 좀 더 실무적으로 해석해 보면 업무에서 필요로 하는 데이터를 시스템 구축 방법론에 의해 분석하고 설계하여 정보시스템을 구축하는 과정으로 정의할 수 있다.



데이터 모델링을 하는 주요한 이유는 업무 정보를 구성하는 기초가 되는 정보들을 일정한 표기법에 의해 표현함으로써 정보시스템 구축의 대상이 되는 업무 내용을 정확하게 분석하는 것이 첫 번째 목적이다. 

두 번째는 분석된 모델을 가지고 실제 데이터베이스를 생성하여 개발 및 데이터 관리에 사용하기 위한 것이다. 

즉, 데이터 모델링이라는 것은 단지 데이터베이스만을 구축하기 위한 용도로만 쓰이는 것이 아니라데이터 모델링 자체로서 업무를 설명하고 분석하는 부분에도 매우 중요한 의미를 가지고 있다.



이러한 데이터 모델은 다음과 같은 기능을 제공한다.

- 시스템을 현재 또는 원하는 모습으로 가시화하도록 도와준다.
- 시스템의 구조와 행동을 명세화 할 수 있게 한다.
- 시스템을 구축하는 구조화된 틀을 제공한다.
- 시스템을 구축하는 과정에서 결정한 것을 문서화한다.
- 다양한 영역에 집중하기 위해 다른 영역의 세부 사항은 숨기는 다양한 관점을 제공한다.
- 특정 목표에 따라 구체화된 상세 수준의 표현방법을 제공한다.



####  데이터 모델링의 중요성 및 유의점

---



##### 파급효과

---

시스템 구축이 완성되어 가는 시점에서 많은 애플리케이션들이 테스트를 수행하고 대규모의 데이터 이행을 성공적으로 수행하기 위한 많은 단위 테스트들이 수행되고 이러한 과정들이 반복된다.

각 단위 테스트들이 성공적으로 수행되고 완료되면 이 전체를 묶어서 병행 테스트, 통합 테스트를 수행한다.

그렇기에 데이터 모델의 변경이 불가피한 상황이 발생한다면 변경을 해야 하는 데이터 모델의 형태에 따라서 그 영향 정도는 차이가 있겠지만 데이터 구조의 변경으로 인한 일련의 변경 작업은 전체 시스템 구축 프로젝트에서 큰 위험요소가 된다.

이러한 이유로 인해 시스템 구축 작업 중에서 다른 어떤 설계 과정보다 데이터 설계가 더 중요하다.



##### 복잡한 정보 요구사항의 간결한 표현

----

데이터 모델은 구축할 시스템의 정보 요구사항과 한곌르 가장 명확하고 간결하게 표현할 수 있는 도구이다.



##### 데이터 품질

----

데이터 품질의 문제가 야기되는 중대한 이유 중 하나가 데이터 구조의 문제이다.

데이터 모델링을 할 때 유의점은 다음과 같다.

-  중복 데이터 모델은 같은 데이터를 사용하는 사람, 시간 그리고 장소를 파악하는데 도움을 준다. 이러한 지식 응용은 데이터 베이스가 여러 장소에 같은 정보를 저장하는 잘못을 하지 않도록 한다.
- 비유연성 데이터 모델을 어떻게 설계했느냐 에 따라 사소한 업무변화에도 데이터 모델이 수시로 변경됨으로써 유지보수의 어려움을 가중시킬 수 있다. 데이터의 정의를 데이터의 사용 프로세스와 분리함으로써 데이터 모델링은 데이터 혹은 프로세스의 작은 변화가 애플리케이션과 데이터베이스에 중대한 변화를 일으킬 가능성을 줄인다.
- 비일관성 데이터의 중복이 없더라도 비일관성은 발생한다.



#### 데이터 모델링의 3 단계 진행

---



##### 개념적 데이터 모델링

---

개념적 데이터베이스 설계는 조직, 사용자의 데이터 요구사항을 찾고 분석하는데서 시작한다.

이 과정은 어떤 자료가 중요하며 또 어떤 자료가 유지되어야 하는지를 결정하는 것도 포함한다.



이 단계의 주요한 활동은 핵심 엔터티와 그들 간의 관계를 발견하고, 그것을 표현하기 위해서 엔터티-관계 다이어그램을 생성하는 것이다. 

엔터티-관계 다이어그램은 조직과 다양한 데이터베이스 사용자에게 어떠한 데이터가 중요한지 나타내기 위해서 사용된다.

데이터 모델링 과정이 전 조직에 걸쳐 이루어진다면, 그것은 전사적 데이터 모델이라고 불린다.

개념 데이터 모델을 통해 조직의 데이터 요구를 공식화하는 것은 2가지의 중요한 기능을 지원한다.

- 개념 데이터 모델은 사용자와 시스템 개발자가 데이터 요구 사항을 발견하는 것을 지원한다.
- 개념 데이터 모델은 현 시스템이 어떻게 변형 되어야 하는가를 이해하는데 유용하다.



##### 논리적 데이터 모델링

---

논리 데이터 모델링은 데이터베이스 설계 프로세스의 Input 으로써 비지니스 정보의 논리적인 구조와 규칙을 명확하게 표현하는  기법 또는 과정이라 할 수 있다.

논리 데이터 모델링의 결과로 얻어지는 논리 데이터 모델은 데이터 모델링이 최종적으로 완료된 사태라고 정의할 수 있다.

즉 물리적인 스키마 설계를 하기 전 단계의 '데이터 모델' 상태를 일컫는 말이다.

논리 데이터 모델링의 핵심은 어떻게 데이터에 액세스하고 누가 데이터에 액세스하며, 그러한 액세스의 전산화와는 독립적으로 다시 말해서 누가, 어떻게 그리고 전산화와는 별개로 비지니스 데이터에 존재하는 사실들을 인식하여 기록하는 것이다.



데이터 모델링 과정에서 가장 핵심이 되는 부분이 논리 데이터 모델링이라 할 수 있다.

데이터 모델링이란 단지 ERD라는 그림을 그려내는 과정이 아니다.

시스템 구축을 위해서 가장 먼저 시작할 기초적인 업무 조사를 하는 초기단계에서부터 인간이 결정해야 할 대부분의 사항을 모두 정의하는 시스템 설계의 전 과정을 지원하는 '과정의 도구'라고 할 수 있다.

이 단계에서 수행하는 또 한가지 중요한 활동은 정규화이다. 

정규화는 논리 데이터 모델 상세화 과정의 대표적인 활동으로, 논리 데이터 모델의 일관성을 확보하고 중복을 제거하여 속성들이 가장 적절한 엔터티에 배치되도록 함으로써 보다 신뢰성 있는 데이터구조를 얻는데 목적이 있다.

논리 데이터 모델의 상세화는 식별자 확정, 정규화, M:M 관계 해소, 참조 무결성 규칙의 정의 등을 들 수 있으며, 추가적으로 이력 관리에 대한 전략을 정의하여 이를 논리 데이터 모델에 반영함으로써 데이터 모델링을 완료하게 된다.



##### 물리적 데이터 모델링

---

물리 데이터 모델링은 논리 데이터 모델이 데이터 저장소로서 어떻게 컴퓨터 하드웨어에 표현될 것인가를 다룬다.

데이터가 물리적으로 컴퓨터에 어떻게 저장될 것인가에 대한 정의를 물리적 스키마라고 한다.

이 단계에서 결정되는 것은 테이블, 칼럼 등으로 표현되는 물리적인 저장 구조와 사용될 저장 장치, 자료를 추출하기 위해 사용될 접근 방법등이 있다. 

계층적 데이터베이스 관리 시스템 환경에서는 데이터베이스 관리자가 물리적 스키마를 설계하고 구현하기 위해서 보다 많은 시간을 투자해야 한다.



#### 데이터 모델링의 3가지 요소

---

- 업무가 관여하는 **어떤 것**
- 어떤 것이 가지는 **성격**
- 업무가 관여하는 어떤 것 간의 **관계**



사물이나 사건 등을 바라 볼 때 전체를 지칭하는  용어를 어떤 것이라 하고, 그 어떤 것이 가지는 세부적인 사항을 성격이라고 할 수 있다.

또한 각각의 어떤 것은 다른 어떤 것과 연관성을 가질 수 있는데 이것을 관계라고 표현 한다.



#### 좋은 데이터 모델의 요소

---



##### 완전성

---

업무에서 필요로 하는 모든 데이터가 데이터 모델에 정의되어 있어야 한다.

데이터 모델을 검증하기 위해서는 가장 먼전 확인해야 할 부분이다.



##### 중복배제

---

하나의 데이터베이스 내에 동일한 사실은 반드시 한 번만 기록하여야 한다.



##### 업무규칙

---

데이터 모델에서 매우 중요한 요소 중 하나가 데이터 모델링 과정에서 도출되고 규명되는 수많은 업무규칙을 데이터 모델에 표현하고 이를 해당 데이터 모델을 활용하는 모든 사용자가 공유할 수 있도록 제공하는 것이다.

그렇게 함으로써 해당 데이터 모델을 사용하는 모든 사용자가 해당 규칙에 대해서 동일한 판단을 하고 데이터를 조작할 수 있게 된다.



##### 데이터 재사용

---

데이터의 재사용성을 향상시키고자 한다면 데이터의 통합성과 독립성에 대해서 충분히 고려해야 한다.

현재 대부분의 회사에서 진행하고 있는 신규 정보시스템의 구축 작업은 회사 전체 관점에서 공통 데이터를 도출하고 이를 전 영역에서 사용하기에 적절한 형태로 설계하여 시스템을 구축하게 된다. 

이러한 형태의 데이터 설계에서 가장 중요하게 대두되는 것이 통합 모델이다.

통합 모델이어야만 데이터 재사용성을 향상시킬 수 있다.



데이터가 애플리케이션에 대해 독립적으로 설계되어야만 데이터 재사용성을 향상시킬 수 있다.

정보시스템의 데이터 모델은 이러한 변화에 대해서 최적으로 적응하도록 끊임없이 요구된다.

하지만 일부 정보시스템의 데이터 모델은 이러한 변화에 대해서 현재의 데이터 구조를 거의 변화하지 않고도 변화에 대응할 수 있는 데이터 구조도 있을 것이고, 아주 적은 확장을 통해서 이러한 변화에 대응하는 것도 있을 것이다.

하지만 이러한 변화에 대응하기 위해서 데이터 구조적으로 아주 많은 변화를 주어야만 한다면 변화의 대상이 되는 부분뿐만 아니라 정보시스템의 나머지 부분들도 많은 영향을 받게 된다.

그래서 정보시스템을 구축하는 과정에서 데이터 구조의 확장성, 유연성에 많은 노력을 기우려야 한다.



##### 의사소통

---

데이터 모델은 대상으로 하는 업무를 데이터 관점에서 분석하고 이를 설계하여 나오는 최종 산출물이다.

데이터를 분석 과정에서는 자연스럽게 많은 업무 규칙들이 도출된다.

이 과정에서 도출되는 많은 업무 규칙들은 데이터 모델에 언테티, 서브타입, 속성, 관계 등의 형태로 최대한 자세하게 표현되어야 한다.



##### 통합성

---

가장 바람직한 데이터 구조의 형태는 동일한 데이터는 조직의 전체에서 한번 만 정의되고 이를 여러 다른 영역에서 참조, 활용하는 것이다. 

몰론 이 때에는 성능 등의 부가적인 목적으로 의도적으로 데이터를 중복시키는 경우는 존재할 수 있다.

동일한 성격의 데이터를 한 번만 정의하기 위해서는 공유 데이터에 대한 구조를 여러 업무 영역에서 공동으로 사용하기 용이하게 정의할 수 있어야 한다. 
